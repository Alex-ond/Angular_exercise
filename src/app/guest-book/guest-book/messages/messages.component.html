<div *ngIf="!(isLoading$ | async); else isLoading">
    <div *ngFor="let message of messages$ | async">
        <app-message [message]="message"></app-message>
    </div>
</div>
<ng-template #isLoading>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>

<div *ngIf="errorMessage$ | async as errorMessage">
    <app-error 
        [errorMessage]="errorMessage">
    </app-error>
</div>
